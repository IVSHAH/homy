relevant_line=$(awk '/^# ------------------------ >8 ------------------------/{exit} !/^#/ && NF {print; exit}' "$1")

[ -z "$relevant_line" ] && exit 0

all_other_lines=$(awk 'BEGIN{flag=0} /^# ------------------------ >8 ------------------------/{flag=1} !/^#/ && NF && flag {print}' "$1")

formatted_relevant_line=$(echo "$relevant_line" | sed -e $'s/^[ \t]*//' -e $'s/\.//g' -E -e $'s/[ \t]+/ /g')

{
  echo "$formatted_relevant_line"
  echo "$all_other_lines"
} > "$1"?